(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=function(t,n){var a,i=document.createElement("canvas");t.appendChild(i),"object"===("undefined"==typeof G_vmlCanvasManager?"undefined":e(G_vmlCanvasManager))&&G_vmlCanvasManager.initElement(i);var r=i.getContext("2d");i.width=i.height=n.size;var o=1;window.devicePixelRatio>1&&(o=window.devicePixelRatio,i.style.width=i.style.height=[n.size,"px"].join(""),i.width=i.height=n.size*o,r.scale(o,o)),r.translate(n.size/2,n.size/2),r.rotate((n.rotate/180-.5)*Math.PI);var s=(n.size-n.lineWidth)/2;n.scaleColor&&n.scaleLength&&(s-=n.scaleLength+2),Date.now=Date.now||function(){return+new Date};var l=function(e,t,n){var a=(n=Math.min(Math.max(-1,n||0),1))<=0;r.beginPath(),r.arc(0,0,s,0,2*Math.PI*n,a),r.strokeStyle=e,r.lineWidth=t,r.stroke()},d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},u=function(){n.scaleColor&&function(){var e,t;r.lineWidth=1,r.fillStyle=n.scaleColor,r.save();for(var a=24;a>0;--a)a%6==0?(t=n.scaleLength,e=0):(t=.6*n.scaleLength,e=n.scaleLength-t),r.fillRect(-n.size/2+e,0,t,1),r.rotate(Math.PI/12);r.restore()}(),n.trackColor&&l(n.trackColor,n.trackWidth||n.lineWidth,1)};this.getCanvas=function(){return i},this.getCtx=function(){return r},this.clear=function(){r.clearRect(n.size/-2,n.size/-2,n.size,n.size)},this.draw=function(e){var t;n.scaleColor||n.trackColor?r.getImageData&&r.putImageData?a?r.putImageData(a,0,0):(u(),a=r.getImageData(0,0,n.size*o,n.size*o)):(this.clear(),u()):this.clear(),r.lineCap=n.lineCap,t="function"==typeof n.barColor?n.barColor(e):n.barColor,l(t,n.lineWidth,e/100)}.bind(this),this.animate=function(e,t){var a=Date.now();n.onStart(e,t);var i=function(){var r=Math.min(Date.now()-a,n.animate.duration),o=n.easing(this,r,e,t-e,n.animate.duration);this.draw(o),n.onStep(e,t,o),r>=n.animate.duration?n.onStop(e,t):d(i)}.bind(this);d(i)}.bind(this)};window.FilamentSparkPie=function(e,n){var a={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(e,t,n,a,i){return(t/=i/2)<1?a/2*t*t+n:-a/2*(--t*(t-2)-1)+n},onStart:function(e,t){},onStep:function(e,t,n){},onStop:function(e,t){}};a.renderer=t;var i={},r=0,o=function(){for(var t in this.el=e,this.options=i,a)a.hasOwnProperty(t)&&(i[t]=n&&void 0!==n[t]?n[t]:a[t],"function"==typeof i[t]&&(i[t]=i[t].bind(this)));"string"==typeof i.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[i.easing])?i.easing=jQuery.easing[i.easing]:i.easing=a.easing,"number"==typeof i.animate&&(i.animate={duration:i.animate,enabled:!0}),"boolean"!=typeof i.animate||i.animate||(i.animate={duration:1e3,enabled:i.animate}),this.renderer=new i.renderer(e,i),this.renderer.draw(r),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(e){return e=parseFloat(e),i.animate.enabled?this.renderer.animate(r,e):this.renderer.draw(e),r=e,this}.bind(this),this.disableAnimation=function(){return i.animate.enabled=!1,this},this.enableAnimation=function(){return i.animate.enabled=!0,this},o()}})();
